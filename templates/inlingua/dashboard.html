{% extends 'main.html' %}
{% load static %}

{% block title %}
Employees page | Inlingua
{% endblock %}
{% block style %}
{% endblock %}

{% block container %}
    {% include 'inc/sidebar.html' %}
    {% include 'inc/message.html' %}
    <div class="mt-5 py-3 d-flex align-items-center justify-content-between">
        <p class="p-0 m-0 fw-bold fs-5">Over All Dashboard</p>
    </div>
    <section class="">
      <div class="row mb-3 ">
          <div class="col-4">
            <div class="border p-3 h-100">
                <p class="p-0 m-0 fw-bold fs-5">Payment Status</p>
                <div class="mt-3">
                    <canvas id="payment_type"></canvas>
                  </div>
                  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
                  <script>
                    const payment_chart = document.getElementById('payment_type');
                    new Chart(payment_chart, {
                      type: 'doughnut',
                      data: {
                        labels: ['Full', 'Part', 'Not a pay'],
                        datasets: [{
                          label: ' Srtudents',
                          data: [12, 19, 5],
                          borderWidth: 1,
                        }]
                      },
                      options: {
                        scales: {
                          y: {
                            beginAtZero: true
                          }
                        }
                      }
                    });
                  </script>
            </div>
        </div>
        </div>
      </div>
      <div class="mx-2">
        <div class="row mb-1">
          <div class="col-1 bg-primary p-2 text-white">
            S.NO
          </div>
          <div class="col-2 text-truncate bg-primary p-2 text-white">
            Student ID
          </div>
          <div class="col-2 text-truncate bg-primary p-2 text-white">
            Name
          </div>
          <div class="col-3 text-truncate bg-primary p-2 text-white">
            Language & Level
          </div>
          <div class="col-2 text-truncate bg-primary p-2 text-white">
            Status
          </div>
          <div class="col-2 text-truncate bg-primary p-2 text-white">
            Action
          </div>
        </div>
        {% if all_students %}
        {% for payment_not_complited_student in all_students %}
        <div class="row mb-1 ">
          <div class="col-1 text-truncate p-2" style="background-color: rgb(238, 238, 238);">
            {{forloop.counter}}
          </div>
          <div class="col-2 text-truncate p-2" style="background-color: rgb(238, 238, 238);">
            {{payment_not_complited_student.Student_ID}}
          </div>
          <div class="col-2 text-truncate p-2" style="background-color: rgb(238, 238, 238);">
            {{payment_not_complited_student.Student_Name}}
          </div>
          <div class="col-3 text-truncate p-2" style="background-color: rgb(238, 238, 238);">
            {{payment_not_complited_student.Language_Name}} {{payment_not_complited_student.Level_and_Hour}}
          </div>
          <div class="col-2 text-truncate p-2" style="background-color: rgb(238, 238, 238);">
            {{payment_not_complited_student.status}}
          </div>
          <div class="col-2 text-truncate p-2" style="background-color: rgb(238, 238, 238);">
            <a href="{% url 'verify' pk=payment_not_complited_student.pk %}" class="alert-primary px-3 py-1 rounded-pill">Go to verify <i class='bx bx-right-arrow-alt'></i></a>
          </div>
        </div>
        {% endfor %}
        <nav aria-label="Page navigation example">
          <ul class="pagination justify-content-end">
              {% if page_obj.has_previous %}
              <li class="page-item">
                  <a class="page-link" href="?page={{ page_obj.previous_page_number }}" tabindex="-1">Previous</a>
              </li>
              {% else %}
              <li class="page-item disabled">
                  <a class="page-link" href="#" tabindex="-1" aria-disabled="true">Previous</a>
              </li>
              {% endif %}
              {% for num in page_obj.paginator.page_range %}
              <li class="page-item {% if page_obj.number == num %}active{% endif %}">
                  <a class="page-link" href="?page={{ num }}">{{ num }}</a>
              </li>
              {% endfor %}
              {% if page_obj.has_next %}
              <li class="page-item">
                  <a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a>
              </li>
              {% else %}
              <li class="page-item disabled">
                  <a class="page-link" href="#">Next</a>
              </li>
              {% endif %}
          </ul>
      </nav>
        {% else %}
        <div class="row">
          <div class="col-12 border">
            <p class="text-center p-0 m-0 p-2 fs-5 fw-bold">No Payment, Not Complited Student</p>
          </div>
        </div>
        {% endif %}
      </div>
    </section>
    {% if False %}
    <div class="row mt-2">
        <div class="col-8">
            <div class="border p-3">
                <p class="p-0 m-0 fw-bold fs-5">Last 12 months students data</p>
            <div>
                <canvas id="myChart"></canvas>
              </div>
              <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
              <script>
                const ctx = document.getElementById('myChart');
              
                new Chart(ctx, {
                  type: 'line',
                  data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apl', 'May', 'Jun', 'Jul', 'Aug', 'Sept', 'Oct', 'Nav', 'Dec'],
                    datasets: [{
                      label: ' Students',
                      data: [12, 19, 3, 5, 2, 3],
                      borderWidth: 1,
                      fill: true,
                      borderColor: '#FF751A',
                      tension: 0.2,
                    }]
                  },
                  options: {
                    scales: {
                      y: {
                        beginAtZero: true
                      }
                    }
                  }
                });
              </script>
            </div>
        </div>
        <div class="col-4">
            <div class="border p-3 h-100">
                <p class="p-0 m-0 fw-bold fs-5">Language data last 12 months</p>
                <div class="mt-3">
                    <canvas id="myChart2"></canvas>
                  </div>
                  
                  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
                  
                  <script>
                    const ctxx = document.getElementById('myChart2');
                  
                    new Chart(ctxx, {
                      type: 'doughnut',
                      data: {
                        labels: ['German', 'French', 'Mandarin', 'Spanish', 'English', 'Japanese'],
                        datasets: [{
                          label: ' Srtudents',
                          data: [12, 19, 3, 5, 2, 3],
                          borderWidth: 1,
                        }]
                      },
                      options: {
                        scales: {
                          y: {
                            beginAtZero: true
                          }
                        }
                      }
                    });
                  </script>
            </div>
        </div>
    </div>
    <div class="mb-3">
      <p class="p-0 m-0 fw-bold fs-5 pt-3 mb-3"> <span class="text-primary"><i class='bx bxs-circle'></i> Online</span> Batches List</p>
      <div class="row">
          <div class="col-6  mb-3">
              <div class="p-3 border rounded-2">
                  <p class="p-0 m-0 fw-bold fs-5">German-A1-online-31-01-2024</p>
              </div>
          </div>
      </div>
      <div class="w-100 border-top d-flex align-items-center justify-content-center">
        <img src="{% static 'img/imgs/no-online-batchs.png' %}" alt="" class="w-50 mt-3">
      </div>
    </div>
    {% endif %} 
{% endblock %}
